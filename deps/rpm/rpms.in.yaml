# https://github.com/konflux-ci/rpm-lockfile-prototype

contentOrigin:
  repofiles:
    - ./ubi.repo

packages:
  - bc
  - containers-common-extra  # A set of dependencies for buildah
  - crun  # For buildah, enables isolation mechanisms other than chroot
  - fuse-overlayfs  # For buildah, enables overlayfs if kernel-native implementation is not usable
  - gettext-envsubst
  - git-core
  - jq
  - make
  - openssl
  - python3
  - skopeo
  - tar
  - zip

# We want to have control over versions, so we reinstall packages
# even if they're already included in the base image.
reinstallPackages:
  - bash
  - coreutils-single
  - curl
  - findutils
  - gawk
  - grep
  - microdnf
  - rpm
  - sed

arches:
  - aarch64
  - x86_64
  - s390x
  - ppc64le

context:
  containerfile: ../../Containerfile

# Lower the chance of installing something we didn't mean to install
installWeakDeps: false
