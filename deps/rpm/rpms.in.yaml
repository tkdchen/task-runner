# https://github.com/konflux-ci/rpm-lockfile-prototype

contentOrigin:
  repofiles:
    - ./ubi.repo

packages:
  - bc
  - gcc  # build-only: needed to compile pip package C extensions, removed after pip install
  - gettext-envsubst
  - git-core
  - jq
  - make
  - openssl
  - python3
  - python3-devel  # build-only: needed to compile pip package C extensions, removed after pip install
  - python3-pip
  - skopeo
  - tar
  - zip

# We want to have control over versions, so we reinstall packages
# even if they're already included in the base image.
reinstallPackages:
  - bash
  - coreutils-single
  - curl
  - findutils
  - gawk
  - grep
  - microdnf
  - rpm
  - sed

arches:
  - aarch64
  - x86_64
  - s390x
  - ppc64le

context:
  containerfile: ../../Containerfile

# Lower the chance of installing something we didn't mean to install
installWeakDeps: false
